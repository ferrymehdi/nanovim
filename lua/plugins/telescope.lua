return { -- Fuzzy Finder (files, lsp, etc)
	"nvim-telescope/telescope.nvim",
	event = "VimEnter",
	branch = "0.1.x",
	dependencies = {
		-- All the lua functions I don't want to write twice.
		{ "nvim-lua/plenary.nvim" },
		-- set vim.ui.select to telescope
		{ "nvim-telescope/telescope-ui-select.nvim" },
		-- Useful for getting pretty icons, but requires a Nerd Font.
		{ "nvim-tree/nvim-web-devicons", enabled = vim.g.have_nerd_font },
	},
	config = function()
		-- [[ Configure Telescope ]]
		-- See `:help telescope` and `:help telescope.setup()`
		require("telescope").setup({
			defaults = {
				file_ignore_patterns = {
					"node_modules",
					"target",
					"build",
					"dist",
					".git",
					"%.class",
					"%.jar",
					"%.war",
					"%.ear",
					"coverage",
					"%.log",
				},
			},
			extensions = {
				["ui-select"] = {
					require("telescope.themes").get_dropdown(),
				},
			},
		})

		-- Enable Telescope extensions if they are installed
		pcall(require("telescope").load_extension, "ui-select")
	end,
}
